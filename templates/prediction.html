 <!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="favicon.png" type="image">
  <title>Customer Churn Prediction</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    :root {
      --brand: #00a86b; /* emerald green like your screenshot */
      --brand-dark: #008f5a;
      --bg-soft: #f5f8f6;
    }
    body { background: var(--bg-soft); }
    .navbar { background: var(--brand); }
    .navbar .navbar-brand, .navbar .nav-link { color: #fff !important; }
    .hero { background: #fff; border-radius: 18px; padding: 1.5rem 1.25rem; }
    .card {
  max-width: 1800px;   /* increase width */
  margin: 20px auto;  /* keep it centered */
  padding: 30px;      /* add breathing space */
  border-radius: 12px;
  box-shadow: 0px 4px 12px rgba(0,0,0,0.1);
}

    .card-header { background: var(--brand); color: #fff; font-weight: 600; border-radius: 18px 18px 0 0; }
    .form-section-title { font-weight: 700; color: var(--brand); margin: 8px 0 12px; }
    .form-label {
  font-weight: 600;
  text-align: left !important;
  display: block; /* ensures it spans full width */
}

    .badge-soft { background: rgba(0, 168, 107, 0.12); color: var(--brand); border: 1px solid rgba(0, 168, 107, 0.22); }
    .btn-success { background: var(--brand); border: none; }
    .btn-success:hover { background: var(--brand-dark); }
    footer { background: var(--brand); color: #fff; padding: 14px 0; margin-top: 36px; }
  </style>
</head>

<body>
  <!-- Top Nav -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand fw-bold" href="/">Churn Prediction</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
          <li class="nav-item"><a class="nav-link active" href="/prediction">Prediction</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container my-4">
    <!-- Optional hero intro to match your screenshot vibe -->
    <div class="hero mb-4 shadow-sm">
      <div class="d-flex flex-column flex-lg-row align-items-center gap-3">
        <div class="flex-fill">
          <!-- <h2 class="fw-bold mb-2">Customer Churn Prediction</h2> -->
          <p class="text-muted mb-1"><div style="background-color:#f8f9fa; border-radius:10px; padding:0px; box-shadow:0px 4px 10px rgba(0,0,0,0.1); max-width:790px; margin:0%; font-family:Arial, sans-serif;">
    <h3 style="color:#2c3e50; text-align:center;">Customer Churn Score (1 to 5)</h3>
    <p><strong>Score 1 ‚Äì Very Low Risk:</strong> Customer is highly engaged, interacts regularly, makes repeat purchases, and provides positive feedback.</p>
    <p><strong>Score 2 ‚Äì Low Risk:</strong> Customer shows minor fluctuations in usage but remains generally satisfied and active.</p>
    <p><strong>Score 3 ‚Äì Moderate Risk:</strong> Customer activity is declining, with less frequent engagement, smaller transactions, or mixed feedback.</p>
    <p><strong>Score 4 ‚Äì High Risk:</strong> Customer usage has dropped significantly, complaints are unresolved, and satisfaction is visibly low.</p>
    <p><strong>Score 5 ‚Äì Imminent Churn:</strong> Customer has shown prolonged inactivity, cancellation intent, or strong dissatisfaction, requiring immediate retention action.</p>
</div>
</p>
          {% if prediction_text %}
          <div class="alert alert-info mt-3 mb-0">
            <strong>Prediction:</strong> {{ prediction_text }}
          </div>
          {% endif %}
        </div>
        <img src="https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=1200&auto=format&fit=crop" alt="analytics" class="rounded d-none d-lg-block" style="max-width: 630px; border: 1px solid #eee;">
      </div>
    </div>

    <!-- Form Card -->
    <div class="card shadow-lg">
      <div class="card-header">üìã Prediction Form</div>
      <div class="card-body">
        <style>
  .form-container {
    max-width: 900px;
    margin: auto;
    padding: 20px;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
  }
  .form-section-title {
    font-weight: bold;
    font-size: 1.2rem;
    margin: 20px 0 10px;
    text-align:center;
  }
</style>

<div class="form-container">
  <form action="/prediction" method="POST" class="text-center">
    
    <!-- Personal -->
    <div class="form-section-title">üë§ Personal Information</div>
    <label for="age" class="form-label">Age <span class="badge rounded-pill badge-soft"></span></label>
    <input type="number" id="age" name="age" class="form-control mb-3" min="0" placeholder="Like That, 29" required>

    <label for="gender" class="form-label">Gender <span class="badge rounded-pill badge-soft"></span></label>
    <select id="gender" class="form-select mb-3" name="gender" required>
      <option value="">Select Gender</option>
      <option value="M">Male</option>
      <option value="F">Female</option>
    </select>

    <!-- Activity -->
    <div class="form-section-title">üìä Activity Information</div>
    <label for="last_login" class="form-label">Days Since Last Login</label>
    <input type="number" id="last_login" name="last_login" class="form-control mb-3" min="0" placeholder="Like That, 7" required>

    <label for="avg_time_spent" class="form-label">Average Time Spent (minutes)</label>
    <input type="number" id="avg_time_spent" name="avg_time_spent" class="form-control mb-3" min="0" placeholder="Like That, 12" required>

    <label for="avg_transaction_value" class="form-label">Average Transaction Value</label>
    <input type="number" id="avg_transaction_value" name="avg_transaction_value" class="form-control mb-3" min="0" placeholder="Like That, 1500" required>

    <label for="points_in_wallet" class="form-label">Points in Wallet</label>
    <input type="number" id="points_in_wallet" name="points_in_wallet" class="form-control mb-3" min="0" placeholder="Like That, 320" required>

    <!-- Membership & Preferences -->
    <div class="form-section-title">üí≥ Membership & Preferences</div>
    <label for="region_category" class="form-label">Region Category</label>
    <select id="region_category" class="form-select mb-3" name="region_category" required>
      <option value="">Select Region</option>
      <option>Town</option>
      <option>City</option>
      <option>Village</option>
    </select>

    <label for="membership_category" class="form-label">Membership Category</label>
    <select id="membership_category" class="form-select mb-3" name="membership_category" required>
      <option value="">Select Membership</option>
      <option>Basic Membership</option>
      <option>No Membership</option>
      <option>Gold Membership</option>
      <option>Platinum Membership</option>
      <option>Silver Membership</option>
      <option>Premium Membership</option>
    </select>

    <label for="joined_through_referral" class="form-label">Joined Through Referral?</label>
    <select id="joined_through_referral" class="form-select mb-3" name="joined_through_referral" required>
      <option value="">Select</option>
      <option>No</option>
      <option>Yes</option>
    </select>

    <label for="preferred_offer_types" class="form-label">Preferred Offer Type</label>
    <select id="preferred_offer_types" class="form-select mb-3" name="preferred_offer_types" required>
      <option value="">Select Offer Type</option>
      <option>Gift Vouchers/Coupons</option>
      <option>Credit/Debit Card Offers</option>
      <option>Without Offers</option>
    </select>

    <!-- Technical -->
    <div class="form-section-title">üíª Technical Details</div>
    <label for="medium_of_operation" class="form-label">Medium of Operation</label>
    <select id="medium_of_operation" class="form-select mb-3" name="medium_of_operation" required>
      <option value="">Select Medium</option>
      <option>Desktop</option>
      <option>Smartphone</option>
      <option>Both</option>
    </select>

    <label for="internet_option" class="form-label">Internet Option</label>
    <select id="internet_option" class="form-select mb-3" name="internet_option" required>
      <option value="">Select Internet Option</option>
      <option>Wi-Fi</option>
      <option>Mobile_Data</option>
      <option>Fiber_Optic</option>
    </select>

    <!-- Complaints & Feedback -->
    <div class="form-section-title">üìù Complaints & Feedback</div>
    <label for="used_special_discount" class="form-label">Used Special Discount?</label>
    <select id="used_special_discount" class="form-select mb-3" name="used_special_discount" required>
      <option value=""> Select</option>
      <option>Yes</option>
      <option>No</option>
    </select>

    <label for="offer_application_preference" class="form-label">Offer Application Preference?</label>
    <select id="offer_application_preference" class="form-select mb-3" name="offer_application_preference" required>
      <option value=""> Select</option>
      <option>Yes</option>
      <option>No</option>
    </select>

    <label for="past_complaint" class="form-label">Past Complaint?</label>
    <select id="past_complaint" class="form-select mb-3" name="past_complaint" required>
      <option value=""> Select</option>
      <option>Yes</option>
      <option>No</option>
    </select>

    <label for="feedback" class="form-label">Feedback</label>
    <select id="feedback" class="form-select mb-3" name="feedback" required>
      <option value="">Select Feedback</option>
      <option>Poor Product Quality</option>
      <option>No reason specified</option>
      <option>Too many ads</option>
      <option>Poor Website</option>
      <option>Poor Customer Service</option>
      <option>Reasonable Price</option>
      <option>User Friendly Website</option>
      <option>Products always in Stock</option>
      <option>Quality Customer Care</option>
    </select>

    <!-- Date & Time -->
    <div class="form-section-title">üìÖ Date & Time</div>
    <label for="date" class="form-label">Date</label>
    <input type="date" id="date" name="date" class="form-control mb-3" required>

    <label for="time" class="form-label">Time (HH:MM:SS)</label>
    <input type="time" id="time" name="time" class="form-control mb-3" step="1" required>
    <!-- <div class="form-text mb-3">Seconds are enabled to avoid backend parsing errors.</div> -->

    <!-- Buttons -->
    <div class="mt-3">
      <button type="submit" class="btn btn-success btn-lg px-4">Submit Prediction</button>
      <a href="/" class="btn btn-outline-secondary btn-lg ms-2">Back</a>
    </div>
  </form>
</div>

      </div>
    </div>
  </div>

  <footer>
    <div class="container text-center">Churn Prediction Project developed by M Asamullah Ulfat</div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
